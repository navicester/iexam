{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load pagination_tags %}
{% load i18n %}

{% block content %}
<div class='row'>
    {% if popup_view %}
    <div class='col-sm-12 '>
    <br>
    {% else %}
    <div class='col-sm-9 '>
    {% endif %}

    <br>
    {% include "includes/detail_panel.html" with title="Definition" %}

    {% block inline_content %}
        <hr>
        <h2>Dictionary</h2>
        {% for obj in object.worddict_set.all %}
            {% include "includes/detail_panel.html" with object=obj title=obj.book fields=fields_worddict %}
        {% endfor %}

        <h2>Example</h2>
        {% for obj in object.wordexp_set.all %}
            {% include "includes/detail_panel.html" with object=obj title=obj.name fields=fields_wordexp notitle=True %}
        {% endfor %}        
    {% endblock %}

    {% block nav_update %}
        {% if popup_view %}
        {% else %}
            {% if object.get_absolute_url_update and request.user.is_staff %}<a href="{{ object.get_absolute_url_update }}" class="btn btn-primary" >{% trans "Update" %}</a>{% endif %}
        {% endif %}    
    {% endblock %}

    {% block nav_back %}
        {% if back_url %}<a href="{{back_url}}" class="btn btn-default" >{% trans "Back" %}</a>{% endif %}
        {% if popup_view %}
        {% else %}
            {% if object.get_absolute_url_list %}<a href="{{ object.get_absolute_url_list }}" class="btn btn-default" >{% trans "list" %}</a>{% endif %}    
            {% if request.user.is_staff or request.user.is_superuser %}{% if object.get_absolute_url_delete %}        
            <a class="btn btn-danger" href="{{object.get_absolute_url_delete}}"  >{% trans 'Delete' %}</a>
            {% endif %}{% endif %}
        {% endif %}    
    {% endblock %}

    </div>
</div>

<div class="row">
    <div class="col-md-6">
        {% if object.get_previous_by_name %}<a href="{{ object.get_previous_by_name.get_absolute_url }}" title="{% trans 'previous' %}">&laquo; {{ object.get_previous_by_name.name }}</a>{% endif %}
    </div>
    <div class="col-md-6">
        {% if object.get_next_by_name %}<a href="{{ object.get_next_by_name.get_absolute_url }}" title="{% trans "next" %}">&raquo; {{ object.get_next_by_name.name }}</a>{% endif %}
    </div>
</div>
{% endblock %}   